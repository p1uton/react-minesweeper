(this["webpackJsonpreact-minesweeper"]=this["webpackJsonpreact-minesweeper"]||[]).push([[0],{10:function(n,e,t){"use strict";t.r(e);var i=t(0),r=t.n(i),o=t(3),l=t.n(o),u=(t(9),t(1)),s=function(n,e){var t=Math.abs(n.col-e.col),i=Math.abs(n.row-e.row);return 1===t&&1===i||0===t&&1===i||1===t&&0===i},c=function(n,e){return n.filter((function(n){return n.id===e})).shift()},a=function(n,e){if(0!==n.filter((function(n){return n.isOpen&&n.isMine})).length)return 3;var t=n.filter((function(n){return n.isMine&&!n.isFlag})).length,i=n.filter((function(n){return!n.isMine&&!n.isOpen})).length;return 0===t&&0===i?2:e},f=function(n){var e=n.cell,t=n.status,i=n.onClick,o=n.onMouseDown,l=n.onMouseUp,u=["cell"];return 0===t?u.push("cell-closed"):e.isOpen?e.isMine?u.push("cell-mine","cell-detonated"):0!==e.minesNext&&u.push("cell-"+e.minesNext):e.isFlag?1===t?u.push("cell-closed","cell-flag","cell-flag-red"):2!==t&&3!==t||(e.isMine?u.push("cell-closed","cell-flag","cell-flag-green"):u.push("cell-closed","cell-flag","cell-flag-gray")):e.isMine&&3===t?u.push("cell-mine"):e.isMouseDown||u.push("cell-closed"),r.a.createElement("div",{className:u.join(" "),onClick:function(n){return i(n,e.id,!1)},onContextMenu:function(n){return i(n,e.id,!0)},onMouseDown:function(n){return o(n,e.id)},onMouseUp:function(n){return l(n,e.id)}})},p=["new","play","win","lost"];var m=function(){var n=Object(i.useState)((function(){return function(){for(var n=[],e=0;e<16;e++)for(var t=0;t<30;t++)n.push({id:30*e+t,row:e,col:t,isOpen:!1,isMine:!1,isFlag:!1,isMouseDown:!1,minesNext:0});for(var i=99;i>0;){var r=Math.floor(Math.random()*n.length);n[r].isMine||(n[r].isMine=!0,i--)}return n.map((function(e){return e.minesNext=n.filter((function(n){return s(e,n)&&n.isMine})).length,e})),n}()})),e=Object(u.a)(n,2),t=e[0],o=e[1],l=Object(i.useState)((function(){return 0})),m=Object(u.a)(l,2),h=m[0],g=m[1],d=function(n,e,i){if(n.preventDefault(),2!==h&&3!==h){0===h&&g(1);var r=t.concat(),l=c(r,e);i?l.isOpen||w(r,e):l.isFlag||(l.isOpen?l.minesNext===function(n,e){var t=c(n,e);return n.filter((function(n){return s(n,t)&&n.isFlag})).length}(r,e)&&(r.filter((function(n){return s(n,l)&&!n.isOpen&&!n.isFlag&&n.isMine})).map((function(n){return O(r,n.id)})),3!==a(r,h)&&r.filter((function(n){return s(n,l)&&!n.isOpen&&!n.isFlag})).map((function(n){return O(r,n.id)}))):O(r,e)),o(r),g((function(n){return a(r,n)}))}},M=function(n,e){n.preventDefault();var i=t.concat(),r=c(i,e);r.isOpen&&(i.filter((function(n){return s(n,r)&&!n.isOpen&&!n.isFlag})).map((function(n){return n.isMouseDown=!0})),o(i))},v=function(n,e){n.preventDefault();var i=t.concat(),r=c(i,e);r.isOpen&&(i.filter((function(n){return s(n,r)&&!n.isOpen&&!n.isFlag})).map((function(n){return n.isMouseDown=!1})),o(i))},w=function(n,e){n.map((function(n){return n.id===e?n.isFlag=!n.isFlag:null}))},O=function n(e,t){e.map((function(n){return n.id===t?n.isOpen=!0:null}));var i=c(e,t);i.isMine||0!==i.minesNext||e.filter((function(n){return s(n,i)&&!n.isOpen&&!n.isFlag})).map((function(t){return n(e,t.id)}))};return r.a.createElement("div",null,r.a.createElement("div",{className:"field",style:{width:600,height:320}},t.map((function(n){return r.a.createElement(f,{key:n.id,cell:n,status:h,onClick:d,onMouseDown:M,onMouseUp:v})}))),r.a.createElement("hr",null),"status: ",p[h],r.a.createElement("br",null),"mines left: ",t.filter((function(n){return n.isMine})).length-t.filter((function(n){return n.isFlag})).length)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))},4:function(n,e,t){n.exports=t(10)},9:function(n,e,t){}},[[4,1,2]]]);
//# sourceMappingURL=main.5610f899.chunk.js.map