(this["webpackJsonpreact-minesweeper"]=this["webpackJsonpreact-minesweeper"]||[]).push([[0],{11:function(e,n,t){e.exports=t(23)},16:function(e,n,t){},23:function(e,n,t){"use strict";t.r(n);var r=t(0),i=t.n(r),l=t(3),a=t.n(l),c=(t(16),t(1)),u=[{id:0,name:"Beginner",rows:8,cols:8,mines:10},{id:1,name:"Intermediate",rows:16,cols:16,mines:40},{id:2,name:"Expert",rows:16,cols:30,mines:99}],o=function(e){return{type:"SET_STATUS",payload:e}},s=function(e){return{type:"RESET_GAME",payload:e}},f=function(e){return{type:"OPEN_CELLS",payload:e}},d=function(e){return{type:"PRESS_CELLS",payload:e}},m=function(){var e=Object(c.b)();return i.a.createElement("div",{className:"bottombar"},u.map((function(n){return i.a.createElement("input",{type:"button",value:n.name,onClick:function(){return e(s(n.id))},key:n.id})})))},p=t(10),v=function(){var e=Object(c.c)((function(e){return e.status})),n=Object(r.useState)(0),t=Object(p.a)(n,2),l=t[0],a=t[1];return Object(r.useEffect)((function(){if(0===e)a(0);else if(1===e){var n=setInterval((function(){a((function(e){return e+1}))}),1e3);return function(){return clearInterval(n)}}}),[e]),i.a.createElement("div",{className:"topbar-block"},l)},E=function(){var e=Object(c.c)((function(e){return e.cells}));return i.a.createElement("div",{className:"topbar-block"},e.filter((function(e){return e.isMine})).length-e.filter((function(e){return e.isFlag})).length)},b=function(){var e=Object(c.b)(),n=Object(c.c)((function(e){return e.status})),t=Object(c.c)((function(e){return e.level}));return i.a.createElement("div",null,i.a.createElement("div",{className:"status status"+n,onClick:function(){return e(s(t))}}))},h=function(){return i.a.createElement("div",{className:"topbar"},i.a.createElement(E,null),i.a.createElement(b,null),i.a.createElement(v,null))},O=function(e){var n=e.cell,t=e.status,r=e.onCellMouseDown,l=e.onCellMouseUp,a=e.onCellClick,c=["cell"];return 0===t?c.push("cell-closed"):n.isOpen?n.isMine?c.push("cell-mine","cell-detonated"):0!==n.minesNext&&c.push("cell-"+n.minesNext):n.isFlag?1===t?c.push("cell-closed","cell-flag","cell-flag-red"):2!==t&&3!==t||(n.isMine?c.push("cell-closed","cell-flag","cell-flag-green"):c.push("cell-closed","cell-flag","cell-flag-gray")):n.isMine&&3===t?c.push("cell-mine"):n.isPressed||c.push("cell-closed"),i.a.createElement("div",{className:c.join(" "),onMouseDown:function(e){return r(e,n.id)},onMouseUp:function(e){return l(e,n.id)},onClick:function(e){return a(e,n.id)},onContextMenu:function(e){return a(e,n.id)}})},g=function(e){for(var n=e.rows,t=e.cols,r=e.mines,i=[],l=0;l<n;l++)for(var a=0;a<t;a++)i.push({id:l*t+a,row:l,col:a,isOpen:!1,isMine:!1,isFlag:!1,isPressed:!1,minesNext:0});for(var c=r;c>0;){var u=Math.floor(Math.random()*i.length);i[u].isMine||(i[u].isMine=!0,c--)}return i.map((function(e){return e.minesNext=i.filter((function(n){return M(e,n)&&n.isMine})).length,e})),i},M=function(e,n){var t=Math.abs(e.col-n.col),r=Math.abs(e.row-n.row);return 1===t&&1===r||0===t&&1===r||1===t&&0===r},j=function(e,n){return e.filter((function(e){return e.id===n})).shift()},y=function(e,n){var t=j(e,n);return e.filter((function(e){return M(e,t)&&e.isFlag})).length},w=function e(n,t,r,i){var l=j(n,t),a=n.filter((function(e){return M(e,l)&&!e.isOpen&&!e.isFlag&&-1===r.indexOf(e.id)}));return a.forEach((function(e){r.push(e.id)})),i&&a.filter((function(e){return 0===e.minesNext})).forEach((function(t){return e(n,t.id,r,i).forEach((function(e){return a.push(e)}))})),a},C=function(){var e=Object(c.b)(),n=Object(c.c)((function(e){return e.level})),t=Object(c.c)((function(e){return e.cells})),r=Object(c.c)((function(e){return e.status})),l=function(n,i){if(n.preventDefault(),0===r&&e(o(1)),2!==r&&3!==r){var l=j(t,i);2===n.button?l.isOpen||e(function(e){return{type:"FLAG_CELL",payload:e}}(i)):l.isOpen?e(d(w(t,i,[],!1).map((function(e){return e.id})))):l.isFlag||e(d([i]))}},a=function(n,i){if(n.preventDefault(),2!==r&&3!==r){var l=j(t,i);2===n.button||(l.isOpen?(e(d(w(t,i,[],!1).map((function(e){return e.id})))),y(t,i)===l.minesNext&&e(f(w(t,i,[],!0).map((function(e){return e.id}))))):l.isFlag||(e(f([i])),l.isMine?e(o(3)):y(t,i)!==l.minesNext&&0!==l.minesNext||e(f(w(t,i,[],!0).map((function(e){return e.id}))))))}},u=function(n,r){n.preventDefault();var i=function(e){if(0!==e.filter((function(e){return e.isOpen&&e.isMine})).length)return 3;var n=e.filter((function(e){return e.isMine&&!e.isFlag})).length,t=e.filter((function(e){return!e.isMine&&!e.isOpen})).length;return 0===n&&0===t?2:null}(t);null!==i&&e(o(i))};return i.a.createElement("div",{className:"field field-"+n},t.map((function(e){return i.a.createElement(O,{key:e.id,cell:e,status:r,onCellMouseDown:l,onCellMouseUp:a,onCellClick:u})})))};var N=function(){var e=Object(c.c)((function(e){return e.level}));return i.a.createElement("div",{className:"container container-"+e},i.a.createElement(h,null),i.a.createElement(C,null),i.a.createElement(m,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=t(4),x=t(2),L={level:1,status:0,cells:g(u[1])},k=Object(S.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"RESET_GAME":return Object(x.a)({},e,{level:n.payload,status:L.status,cells:g(u[n.payload])});case"SET_STATUS":return Object(x.a)({},e,{status:n.payload});case"FLAG_CELL":return Object(x.a)({},e,{cells:e.cells.map((function(e){return e.id===n.payload?Object(x.a)({},e,{isFlag:!e.isFlag}):e}))});case"OPEN_CELLS":return Object(x.a)({},e,{cells:e.cells.map((function(e){return-1!==n.payload.indexOf(e.id)?Object(x.a)({},e,{isOpen:!0}):e}))});case"PRESS_CELLS":return Object(x.a)({},e,{cells:e.cells.map((function(e){return-1!==n.payload.indexOf(e.id)?Object(x.a)({},e,{isPressed:!e.isPressed}):e}))});default:return e}}));a.a.render(i.a.createElement(c.a,{store:k},i.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.8d7796cf.chunk.js.map